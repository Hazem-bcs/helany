# 🛠️ دليل استخدام معالج الإعداد (Setup Wizard)

## 📋 نظرة عامة

**معالج الإعداد** هو صفحة تفاعلية تساعدك على جمع جميع البيانات المطلوبة وإنشاء ملف `.env` تلقائياً بدون أخطاء.

---

## 🚀 كيفية الوصول

### الطريقة 1: عبر الموقع
1. شغّل المشروع: `npm run dev`
2. افتح المتصفح على: http://localhost:3001
3. اضغط على زر **⚙️ إعداد** في شريط التنقل (أخضر اللون)

### الطريقة 2: مباشرة
افتح: http://localhost:3001/setup

---

## 📝 الخطوات (4 خطوات)

### الخطوة 1️⃣: إعدادات Supabase

**ما تحتاجه:**
- ✅ Supabase URL
- ✅ Supabase Anon Key

**كيف تحصل عليها:**
1. اذهب إلى [supabase.com](https://supabase.com)
2. سجل دخول وافتح مشروعك
3. اذهب إلى **Settings** → **API**
4. انسخ:
   - **Project URL** (مثل: `https://xxxxx.supabase.co`)
   - **anon/public key** (مفتاح طويل يبدأ بـ `eyJ...`)

**الصق في النموذج واضغط "التالي"**

---

### الخطوة 2️⃣: إعدادات البريد الإلكتروني

**ما تحتاجه:**
- ✅ بريد Gmail الخاص بك
- ✅ App Password (16 رقم)

**كيف تحصل على App Password:**
1. اذهب إلى [Google Account Security](https://myaccount.google.com/security)
2. فعّل **التحقق بخطوتين** (2-Step Verification)
3. بعد التفعيل، اذهب إلى **App Passwords**
4. اختر:
   - **Select app:** Mail
   - **Select device:** Other (اكتب "Dental Clinic")
5. اضغط **Generate**
6. انسخ الكلمة المكونة من 16 رقم (مثل: `abcd efgh ijkl mnop`)

**⚠️ مهم:** استخدم App Password وليس كلمة مرور Gmail العادية!

---

### الخطوة 3️⃣: كلمة مرور لوحة التحكم

**ما تحتاجه:**
- ✅ كلمة مرور قوية للوحة التحكم

**نصائح:**
- استخدم 12 حرف على الأقل
- اخلط أحرف كبيرة وصغيرة
- أضف أرقام ورموز ($, @, #, !)
- مثال: `Dr@Helany2024!`

**هذه الكلمة ستستخدمها للدخول إلى `/admin`**

---

### الخطوة 4️⃣: معلومات العيادة

**ما تحتاجه:**
- ✅ اسم العيادة (مثل: عيادة د. محمد حلاني للأسنان)
- ✅ رقم الهاتف (مثل: +963-XXX-XXXXXX)
- ✅ البريد الإلكتروني (مثل: info@dentalclinic.com)
- ✅ العنوان (مثل: دمشق، شارع X، بناء Y)
- ⭕ رابط Google Maps (اختياري)

**كيف تحصل على رابط Google Maps:**
1. اذهب إلى [Google Maps](https://maps.google.com)
2. ابحث عن موقع عيادتك
3. اضغط **Share** → **Embed a map**
4. انسخ الرابط

---

## 📥 النتيجة النهائية

بعد إكمال جميع الخطوات، ستحصل على:

### 1. معاينة ملف .env
```env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGci...

# Email Configuration
EMAIL_USER=your.email@gmail.com
EMAIL_PASS=abcdefghijklmnop

# Admin Configuration
ADMIN_PASSWORD=Dr@Helany2024!

# Clinic Information
NEXT_PUBLIC_CLINIC_NAME=عيادة د. محمد حلاني للأسنان
...
```

### 2. خيارات الحفظ
- **نسخ للحافظة** - لنسخ المحتوى
- **تحميل ملف .env** - لتحميل الملف مباشرة

---

## 💾 حفظ الملف

### الطريقة الأولى: النسخ اليدوي (موصى بها)

1. اضغط **"نسخ للحافظة"**
2. افتح مجلد المشروع في VS Code أو محرر نصوص
3. أنشئ ملف جديد اسمه `.env` (بدون أي امتداد)
4. الصق المحتوى
5. احفظ الملف (Ctrl+S)

### الطريقة الثانية: التحميل المباشر

1. اضغط **"تحميل ملف .env"**
2. احفظ الملف في مجلد المشروع الرئيسي
3. تأكد أن اسم الملف هو `.env` فقط

---

## ✅ التحقق من الإعداد

بعد حفظ ملف `.env`:

1. **أوقف المشروع** إذا كان يعمل (Ctrl+C في Terminal)
2. **أعد تشغيل المشروع:**
   ```bash
   npm run dev
   ```
3. **افتح المتصفح:** http://localhost:3001
4. **اختبر:**
   - جرّب حجز موعد في `/booking`
   - تحقق من وصول البريد الإلكتروني
   - جرّب لوحة التحكم في `/admin`

---

## 🐛 حل المشاكل الشائعة

### ❌ المشكلة: "ملف .env غير موجود"
**الحل:**
- تأكد أن اسم الملف هو `.env` بالضبط (بنقطة في البداية)
- تأكد أن الملف في المجلد الرئيسي (نفس مجلد `package.json`)

### ❌ المشكلة: "البريد الإلكتروني لا يُرسل"
**الحل:**
- تأكد من استخدام **App Password** وليس كلمة مرور Gmail العادية
- تأكد من تفعيل التحقق بخطوتين
- تحقق من عدم وجود مسافات في `EMAIL_PASS`

### ❌ المشكلة: "خطأ في Supabase"
**الحل:**
- تأكد من نسخ URL كامل: `https://xxxxx.supabase.co`
- تأكد من نسخ Anon Key كامل (مفتاح طويل جداً)
- تأكد من تشغيل سكريبت SQL في Supabase

### ❌ المشكلة: "لوحة التحكم لا تعمل"
**الحل:**
- تأكد من كتابة `ADMIN_PASSWORD` بشكل صحيح في `.env`
- أعد تشغيل المشروع بعد تعديل `.env`

---

## 📌 ملاحظات مهمة

1. **ملف .env سري!**
   - لا ترفعه على Git (محمي تلقائياً في `.gitignore`)
   - لا تشاركه مع أحد
   - احفظ نسخة احتياطية منه

2. **إعادة التشغيل ضرورية**
   - بعد أي تعديل على `.env`، يجب إعادة تشغيل `npm run dev`

3. **التحديث لاحقاً**
   - يمكنك فتح `/setup` في أي وقت لتحديث البيانات
   - أو عدّل `.env` مباشرة

---

## 🎯 الخطوة التالية

بعد إنشاء ملف `.env`:

1. ✅ اختبر الموقع محلياً
2. ✅ اختبر حجز المواعيد
3. ✅ اختبر لوحة التحكم
4. ✅ خصص التصميم (راجع `CUSTOMIZATION_GUIDE.md`)
5. ✅ انشر على Netlify (راجع `DEPLOYMENT_GUIDE.md`)

---

## 💡 نصيحة إضافية

**للمبتدئين:**
- استخدم معالج الإعداد - أسهل وأسرع
- يمنع الأخطاء الإملائية
- يعطيك إرشادات واضحة

**للمحترفين:**
- يمكنك تعديل `.env` مباشرة
- استخدم `.env.example` كمرجع

---

## 📞 احتاج مساعدة؟

إذا واجهت مشكلة:
1. راجع قسم "حل المشاكل" أعلاه
2. اقرأ `TROUBLESHOOTING.md`
3. افتح Issue على GitHub

---

<div align="center">

**معالج الإعداد يوفر عليك الوقت والجهد! 🚀**

**استمتع بالإعداد السهل!** ⚙️✨

</div>


